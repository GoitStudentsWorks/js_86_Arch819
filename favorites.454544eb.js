!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=r.parcelRequire07b5;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},r.parcelRequire07b5=s),s.register("iE7OH",(function(t,r){var n,a;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var s={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)s[t[r]]=e[t[r]]},a=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var a={};function s(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),a[e]=t),t}})),s("iE7OH").register(JSON.parse('{"i4hX4":"favorites.454544eb.js","ee16w":"sprite.7aa8ebb7.svg","gt5lo":"favorites.c4fbcc6d.js"}'));var i=s("bpxeT"),o=s("2TvXO");s("1WWhr"),s("bWgPh"),s("24cCg");i=s("bpxeT"),o=s("2TvXO"),i=s("bpxeT"),o=s("2TvXO");var c,u=s("dIxxU");c=s("aNJCr").getBundleURL("i4hX4")+s("iE7OH").resolve("ee16w");var l,f,v=s("6JpON"),p=function(e){return"<div class='favorites__rating'>\n              <div class=\"favorites__rating-body\">\n                <div class=\"favorites__rating-active\"><div class='favorites__cards-rating'>".concat(e,"</div>").concat(function(e){for(var r=Math.round(e),n='<svg class="favorites__star-active"><use href="'.concat(t(c),'#icon-star"></use></svg>'),a='<svg class="favorites__star-notActive"><use href="'.concat(t(c),'#icon-star-grey"></use></svg>'),s=[],i=1;i<=5;i+=1)s.push(i>r?a:n);return s.join("")}(e),'</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>')},d=function(e){var r;return(r=e,r.map((function(e){var r=e.data;return'\n        <li class="favorites__cards-item">\n        <button type="button" id="#'.concat(r._id,'" class="icon-button" data-category="').concat(r.category,'" aria-label="Heart"><svg class="favorites__heart heart-isActive"><use href="').concat(t(c),'#icon-heart"></use></svg></button>\n          <div class="favorit__img-thumb"><img src="').concat(r.preview,'" alt="').concat(r.title,'" width="335"></div>\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">').concat(r.title,'</h2>\n            <p class="favorites__cards-text">').concat(r.description,'</p>\n            <div class="favorites__rating-thumb">\n              ').concat(p(r.rating),'\n              <button class="favorites__cards-btn js-card-button" data-id="').concat(r._id,'">See recipe</button>\n            </div>\n          </div>\n        </li>')}))).join("")},g=function(){return'<svg class="favorites__empty-img">\n      <use href="'.concat(t(c),'#icon-elements"></use>\n    </svg>\n    <p class="favorites__text">').concat("It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.","</p>")},_=function(e){try{var t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){console.error("Error while parsing local storage data:",e)}},h=function(){return t(v).Report.failure("Error","Oops! Something went wrong! Try reloading the page!","OK")},b=(l=t(i)(t(o).mark((function e(r){var n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.get("".concat("https://tasty-treats-backend.p.goit.global/api/recipes/").concat(r));case 3:if(404!==(n=e.sent).status){e.next=6;break}throw new Error("Page not found error 404");case 6:return e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),h();case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return l.apply(this,arguments)}),m=(f=t(i)(t(o).mark((function e(r){var n,a;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(){var e=t(i)(t(o).mark((function e(r){var n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)}),y=function(e){return function(e){var t=[],r=!0,n=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value;t.includes(o)||t.push(o)}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}var c=t.map((function(e){return'<li><button type="button" class="favorites__filter-btn">'.concat(e,"</button></li>")}));return c.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),c}(e).join("")},x=function(){var e=t(i)(t(o).mark((function e(r){var n,a,s;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(r.map((function(e){return e.id})));case 3:return n=e.sent,a=n.map((function(e){return e.data.category})),s=y(a),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),h();case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=t(i)(t(o).mark((function e(r,n,a){var s,i,c,u,l;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(r.map((function(e){return e.id})));case 3:return s=e.sent,c=(i=(n-1)*a)+a,u=s.slice(i,c),l=d(u),e.abrupt("return",l);case 11:e.prev=11,e.t0=e.catch(0),h(),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r,n){return e.apply(this,arguments)}}(),k=(i=s("bpxeT"),o=s("2TvXO"),document.querySelector(".favorites__empty")),S=document.querySelector(".favorites__img"),H=document.querySelector(".favorites__list-filter"),L=document.querySelector(".favorites__list-cards"),T=document.querySelector(".favorites__pagination"),M=(document.querySelector(".favorites__list-cards-thumb"),document.querySelector(".favorites__container-cards")),O=window.innerWidth;function E(e,r){var n="",a=r-1,s=r+1;n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="'.concat(t(c),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="').concat(t(c),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="').concat(t(c),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),r>2&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),O>=768&&(r==e&&(a-=1),1==r&&(s+=1));for(var i=a;i<=s;i++)if(!(i>e)){if(O>=768)0==i&&(i+=1);else if(i<=0)continue;n+='<li class="favorites__pagination-item '.concat(r==i?"favorites__active-btn":"",'">\n    <span class="favorites__pag-page">').concat(i,"</span>\n  </li>")}r<e-1&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="'.concat(t(c),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="').concat(t(c),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="').concat(t(c),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),T.innerHTML=n}var I=function(){var e=t(i)(t(o).mark((function e(r,n,a,s){var i,c,u,l,f,v;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Number(localStorage.getItem("page")))||(i=1),!r.target.closest(".start-container")){e.next=10;break}return i=1,e.next=6,w(n,i,a);case 6:c=e.sent,L.innerHTML=c,E(s,i),localStorage.setItem("page",i);case 10:if(!r.target.closest(".favorites__prew-arrow")){e.next=19;break}if(1===i){e.next=19;break}return i-=1,e.next=15,w(n,i,a);case 15:u=e.sent,L.innerHTML=u,E(s,i),localStorage.setItem("page",i);case 19:if(!r.target.closest(".favorites__pag-page")){e.next=33;break}return e.prev=20,i=Number(r.target.textContent),e.next=24,w(n,i,a);case 24:l=e.sent,L.innerHTML=l,E(s,i),localStorage.setItem("page",i),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(20),console.error("An error occurred:",e.t0);case 33:if(!r.target.closest(".favorites__next-arrow")){e.next=42;break}if(i===s){e.next=42;break}return i+=1,e.next=38,w(n,i,a);case 38:f=e.sent,L.innerHTML=f,E(s,i),localStorage.setItem("page",i);case 42:if(!r.target.closest(".end-container")){e.next=50;break}return i=s,e.next=46,w(n,i,a);case 46:v=e.sent,L.innerHTML=v,E(s,i),localStorage.setItem("page",i);case 50:case"end":return e.stop()}}),e,null,[[20,30]])})));return function(t,r,n,a){return e.apply(this,arguments)}}();s("axyAW"),s("8rl3z"),s("62eWH");var q=window.innerWidth,A=12;q<768&&(A=9);var j=_("favorites"),C=null,N=function(){L.innerHTML='<li class="favorites__list-cards-thumb">'.concat(g(),"</li>"),L.style.justifyContent="center"},R=function(e){if(e.classList.contains("favorites__filter-btn")){var t=document.querySelector(".favorites__active-btn");t&&t.classList.remove("favorites__active-btn"),e.classList.add("favorites__active-btn")}},W=function(){var e=t(i)(t(o).mark((function e(r){var n,a,s,i,c,u,l,f;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.target.closest(".icon-button")){e.next=3;break}return e.abrupt("return");case 3:if(!(a=r.target.closest(".favorites__cards-item"))){e.next=19;break}return a.classList.toggle("is-Hidden-F"),j=j.filter((function(e){return e.id!==n.id.slice(1)})),e.next=9,x(j);case 9:return s=e.sent,H.innerHTML=s,C=Math.ceil(j.length/A),e.next=14,w(j,1,A);case 14:i=e.sent,L.innerHTML=i,E(C,1),1===C&&(T.style.display="none"),0===j.length&&N();case 19:c=n.id.slice(1),u=n.getAttribute("data-category"),l=_("favorites")||[],-1!==(f=l.findIndex((function(e){return e.id===c})))?l.splice(f,1):l.push({id:c,category:u}),localStorage.setItem("favorites",JSON.stringify(l)),n.querySelector(".favorites__heart").classList.toggle("heart-isActive");case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=t(i)(t(o).mark((function e(r){var n,a,s;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("button"===(n=r.target).type){e.next=3;break}return e.abrupt("return");case 3:if(R(n),a=j,"All categories"!==n.textContent&&(a=j.filter((function(e){return e.category===n.textContent}))),console.log(a),0===a.length){e.next=19;break}return localStorage.setItem("page",1),C=Math.ceil(a.length/A),T.style.display=C>1?"flex":"none",E(C,1),e.next=14,w(a,1,A);case 14:s=e.sent,L.innerHTML=s,L.style.justifyContent="start",e.next=20;break;case 19:N();case 20:return e.abrupt("return",1);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=t(i)(t(o).mark((function e(){var r,n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T.style.display="none",j=_("favorites")||[],q<768&&0===j.length&&(L.style.minHeight="100hv"),0!==j.length){e.next=8;break}return q<768&&(S.style.display="none"),(t=k).classList.add("empty"),t.insertAdjacentHTML("beforeend",g()),M.classList.toggle("is-Hidden-F"),e.abrupt("return");case 8:return S.style.display="block",C=Math.ceil(j.length/A),e.next=12,x(j);case 12:if(r=e.sent){e.next=17;break}return H.style.display="none",L.innerHTML='\n    <li class="error-message"><h2>Error</h2>\n    <p>Oops! Something went wrong! Try reloading the page!</p></li>',e.abrupt("return");case 17:return e.next=19,w(j,1,A);case 19:n=e.sent,H.innerHTML=r,L.innerHTML=n,C>1&&(T.style.display="flex",E(C,1)),L.addEventListener("click",W);case 24:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();document.querySelector(".favorites__list-filter").addEventListener("click",F),T.addEventListener("click",(function(e){I(e,j,A,C)})),J(),window.addEventListener("beforeunload",(function(){localStorage.removeItem("page")}))}();
//# sourceMappingURL=favorites.454544eb.js.map
